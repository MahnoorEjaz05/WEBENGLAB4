<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="l3.css">
    <title>Student Profile Page</title>
</head>
<body>
    <div class="container">
    <h4 style="float:right" id="uname"></h4>
    <h1>Student Profile Page</h1>
    <p>Wellcome............This is our student profile page</p>
    <table id="studentCourses" class="courses">
        <thead></thead>
        <tr>
            <th>Course #</th>
            <th>Course Name</th>
            <th>Credit Hours</th>
            <th>Year Taken</th>
        </tr>
    </thead>
    <tbody>
        <tr id="ITC" class="row">
            <td>CS101</td>
            <td>ITC</td>
            <td>03</td>
            <td>2020</td>
        </tr>
        <tr id="PF" class="row">
            <td>CS102</td>
            <td>PF</td>
            <td>03</td>
            <td>2020</td>
        </tr>
        <tr id="COA" class="row">
            <td>CS103</td>
            <td>COA</td>
            <td>03</td>
            <td>2021</td>
        </tr>
        <tr id="LADE" class="row">
            <td>CS104</td>
            <td>LADE</td>
            <td>02</td>
            <td>2021</td>
        </tr>
    </tbody>
    </table>
    <div>
        <input id='search' type="button" value="Search" class="button">
        <input id='addnew' type="button" value="Add New Course" onclick="Addnew()" class="button">
        <input id='upd' type="button" value="Update Course" onclick="upd()"class= "button">
        <input id="remcour" type="button" value="Remove Course" onclick="remcour()" class="button">
    </div>
    <section>
        <p><a href="https://www.ssuet.edu.pk/">SSUET home page</a></p>
        <p><a href="https://www.ssuet.edu.pk/#">SSUET student scholarships notice</a></p>
        <p><a href="https://www.ssuet.edu.pk/news-events/">SSUET news and events Calendar page</a></p>
    </section>
</div>
    <script>
        const btnsearch = document.getElementById('search');
        const btnadd = document.getElementById('addnew');
        const btnupd = document.getElementById('upd');
        const btnrem = document.getElementById('remcour');

        btnsearch.addEventListener('click',function(event)
        {
          const courseId = window.prompt('Please enter CourseId and Course Name');
          const a=("#"+courseId)
          console.log(courseId)
          if (courseId)
          {
            const r=document.getElementById(courseId);
            if(r)
            {
            const course = document.querySelector(a);
            course.style.backgroundColor='aqua';
            
            
            }
          }
        })
function Addnew(){
const body = document.querySelector('tbody');
const row = document.createElement('tr');
const tdCourseID = document.createElement('td');
const tdCourseName = document.createElement('td');
const tdcreditHours = document.createElement('td');
const tdYearTaken = document.createElement('td');
const courseId = window.prompt("Enter Course Id");
const courseName =window.prompt("Enter CourseName")
const yearTaken =window.prompt("Enter Year Taken")
const creditHours =window.prompt("Enter Credit Hours")
row.id = courseName;
tdCourseID.innerHTML =courseId;
tdCourseName.innerHTML =courseName;
tdcreditHours.innerHTML=creditHours;
tdYearTaken.innerHTML = yearTaken;
row.appendChild(tdCourseID)
row.appendChild(tdCourseName);
row.appendChild(tdcreditHours);
row.appendChild(tdYearTaken);
body.appendChild(row);
}

function remcour(){
const courseName = prompt('Please Enter Course Name:');
if(courseName){
document.getElementById(courseName).remove();
}
}

function upd(){
const newCourseYear = prompt('Please enter Course Name and new year delimited by comma');
if(newCourseYear){
const courseId = newCourseYear.split(',')[0];
const courseYear = newCourseYear.split(',')[1];
const row = document.getElementById(courseId);
if(row){
const tdYearTaken = row.querySelector('#' + courseId + ' > td:nth-child(4)');
tdYearTaken.innerHTML = courseYear;
}
}
}
let name = getCookie("username");
            if(username){
                document.getElementById("uname").innerText = username;
                document.getElementById("background").style.backgroundColor = "#7bed9f"; //green
            }else{
                document.getElementById("background").style.backgroundColor = "#a4b0be"; //gray
            }
console.log(window.history.state)

            function getCookie(cname) {
                let name = cname + "=";
                let decodedCookie = decodeURIComponent(document.cookie);
                let ca = decodedCookie.split(';');
                for(let i = 0; i <ca.length; i++) {
                    let c = ca[i];
                    while (c.charAt(0) == ' ') {
                    c = c.substring(1);
                    }
                    if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length);
                    }
                }
                return "";
                }
    </script>
</body>
</html>